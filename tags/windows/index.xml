<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Windows on edermi's Blog</title><link>https://edermi.github.io/tags/windows/</link><description>Recent content in Windows on edermi's Blog</description><generator>Hugo</generator><language>en-us</language><managingEditor>spam-blog@michael-eder.net (Michael Eder)</managingEditor><webMaster>spam-blog@michael-eder.net (Michael Eder)</webMaster><lastBuildDate>Mon, 09 Sep 2024 19:16:44 +0200</lastBuildDate><atom:link href="https://edermi.github.io/tags/windows/index.xml" rel="self" type="application/rss+xml"/><item><title>Abusing accounts that already changed their password</title><link>https://edermi.github.io/post/2020/abusing_accounts_that_changed_passwords/</link><pubDate>Sun, 23 Feb 2020 00:00:00 +0000</pubDate><author>spam-blog@michael-eder.net (Michael Eder)</author><guid>https://edermi.github.io/post/2020/abusing_accounts_that_changed_passwords/</guid><description>&lt;p>&lt;em>&lt;strong>TL;DR&lt;/strong>&lt;/em>: &lt;em>In some circumstances, you may find usable Kerberos TGTs on a system you compromised - these allow you to impersonate a user that already changed its password (e.g. because the user got suspicious or a PAM solution is in place).&lt;/em>&lt;/p>
&lt;h1 id="intro">Intro&lt;/h1>
&lt;p>On a recent project, I was tasked with the usual goal: Start from the ground and find a way to take over the company - in the end, if possible, somehow become Domain Admin.
Getting started was tough, but after some time I got my hands on a few admin accounts and had a way to take control of the Domain Admins - but the way involved resetting the password of a service account.
Unless I do not have a very good reason to perform the password change or the explicit &amp;ldquo;Do it!&amp;rdquo; from the customer, I prefer finding another way.
Lurking for a few days on the machines I gained access so far, I discovered two accounts that logged on recently.
They both provided a simpler way to become Domain Admin because they were allowed to write the Domain Admin group directly - Jackpot!&lt;/p></description></item><item><title>Passing the hash with native RDP client (mstsc.exe)</title><link>https://edermi.github.io/post/2018/native_rdp_pass_the_hash/</link><pubDate>Sun, 06 May 2018 00:00:00 +0000</pubDate><author>spam-blog@michael-eder.net (Michael Eder)</author><guid>https://edermi.github.io/post/2018/native_rdp_pass_the_hash/</guid><description>&lt;p>&lt;em>&lt;strong>TL;DR:&lt;/strong> If the remote server allows Restricted Admin login, it is possible to login via RDP by passing the hash using the native Windows RDP client &lt;code>mstsc.exe&lt;/code>. (You&amp;rsquo;ll need mimikatz or something else to inject the hash into the process)&lt;/em>&lt;/p>
&lt;p>On engagements it is usually only a matter of time to get your hands on NTLM hashes.
These can usually be directly used to authenticate against other services / machines and enable lateral movement.
Powershell / PSExec, SMB and WMI are usual targets to pass the hash to, but it is also possible to use it to establish a RDP session on a remote host.
Searching the Internet on how to do this unfortunately always leads to &lt;a href="https://www.kali.org/penetration-testing/passing-hash-remote-desktop/">using xfreerdp&lt;/a>, but I wasn&amp;rsquo;t able to find anything on the Internet regarding how to do this directly using the provided RDP client &lt;code>mstsc.exe&lt;/code>, so I had to find out on my own.&lt;/p></description></item><item><title>Windows 10 Installationsimage unter Linux auf USB Stick installieren</title><link>https://edermi.github.io/post/2015/windows-10-auf-usb-unter-linux/</link><pubDate>Mon, 25 May 2015 00:00:00 +0000</pubDate><author>spam-blog@michael-eder.net (Michael Eder)</author><guid>https://edermi.github.io/post/2015/windows-10-auf-usb-unter-linux/</guid><description>&lt;p>Ich wollte mir mal Windows 10 außerhalb einer virtuellen Umgebung anschauen - mein Laptop hat leider kein
DVD-Laufwerk, weswegen ich die Installation vom USB-Stick durchführen muss. Prinzipiell ist das meiner
Meinung nach sowieso immer der way-to-go, da man den Stick wiederverwenden kann und alles sowieso schneller
geht als von der DVD. Bei iso-Dateien von Linux-Distributionen hat bisher immer ein &lt;code>dd&lt;/code> gereicht um die
Images bootbar auf den USB-Stick zu verfrachten. Wie sich heraus stellt ist das bei Windows etwas mehr Arbeit,
weswegen ich diesen Post schreibe falls andere ähnliche Probleme haben.&lt;/p></description></item></channel></rss>